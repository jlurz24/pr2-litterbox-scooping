<launch>
  <include file="$(find pr2_machine)/$(env ROBOT).machine" />

  <!-- TODO: replace with laser+stereo-perception.launch -->  
  <node pkg="pr2_mechanism_controllers" type="send_periodic_cmd_srv.py" name="laser_tilt_controller_3dnav_params" args="laser_tilt_controller linear 2 .75 .25" />

  <include file="$(find pr2_navigation_perception)/lasers_and_filters.xml" />
  <include file="$(find pr2_navigation_perception)/ground_plane.xml" />

  <!-- self filter stereo points -->
  <node pkg="robot_self_filter" type="self_filter" respawn="true" name="stereo_self_filter" output="screen">
    <remap from="cloud_in" to="/narrow_stereo/left/points" />
    <remap from="cloud_out" to="/narrow_stereo/left/points_filtered" />

    <param name="subsample_value" type="double" value=".02"/>
    <rosparam command="load" file="$(find pr2_arm_navigation_perception)/config/old_self_filter.yaml" />
  </node>

  <include file="$(find litterbox)/launch/sensor_nodes.launch" />
</launch>
